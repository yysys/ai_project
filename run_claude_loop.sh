#!/bin/bash

TOTAL_RUNS=10
PROMPT="这是一个抖音小游戏代码，请你帮我看下当前项目文件夹下有哪些问题，并优化当前项目的代码和文档"

echo "=========================================="
echo "开始执行 Claude 命令循环"
echo "总运行次数: $TOTAL_RUNS"
echo "=========================================="
echo ""

for i in $(seq 1 $TOTAL_RUNS); do
    echo "------------------------------------------"
    echo "进度: [$i/$TOTAL_RUNS] - 正在执行..."
    echo "------------------------------------------"
    
    claude "$PROMPT"
    
    if [ $? -eq 0 ]; then
        echo ""
        echo "✓ 第 $i 次执行完成"
    else
        echo ""
        echo "✗ 第 $i 次执行失败"
    fi
    
    echo ""
done

echo "=========================================="
echo "所有执行已完成!"
echo "总运行次数: $TOTAL_RUNS"
echo "=========================================="
